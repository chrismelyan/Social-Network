{"version":3,"file":"static/js/966.a19502fd.chunk.js","mappings":"mKACA,G,QAA4B,8BAA5B,EAA0E,kCAA1E,EAAmH,wBAAnH,EAA0J,gCAA1J,EAAqM,4BCArM,EAAuB,2BAAvB,EAA2D,6BAA3D,EAAmG,+B,mBCenG,EARqB,SAACA,GAClB,OACI,gBAAKC,UAAWC,EAAhB,UACI,SAAC,KAAD,CAASC,GAAE,qBAAgBH,EAAMI,IAAMH,UAAW,qBAAEI,SAAyBH,EAAWA,GAAxF,SAAqGF,EAAMM,UCVvH,KCWA,EANgB,SAACN,GACb,OACI,gBAAKC,UAAWC,EAAAA,QAAhB,SAA4BF,EAAMO,W,iDCkC1C,EA7BuB,SAACP,GACpB,IAMMQ,EAAmBC,EAAAA,GAAW,CAChCC,WAAYD,EAAAA,KAAaE,IAAI,IAAjB,2BAAkDC,SAAS,cAG3E,OACI,0BACA,SAAC,KAAD,CACIC,cAbiC,CACrCH,WAAY,IAaRF,iBAAkBA,EAClBM,SAAU,SAACC,EAAD,GAA0B,IAAhBC,EAAe,EAAfA,WAZR,SAACD,GACjBf,EAAMiB,YAAYF,EAAOL,YAYjBQ,CAAcH,GACdC,EAAU,CAACD,OAAQ,CAACL,WAAY,OALxC,UAOI,UAAC,KAAD,YACI,SAACS,EAAA,EAAD,CAAaC,QAAS,WAAYd,KAAM,aAAce,YAAa,uBACnE,mBAAQpB,UAAWC,EAAAA,EAAAA,OAAUoB,KAAM,SAAnC,0BCIhB,EAzBkB,SAACtB,GAEf,IAAIuB,EAAoBvB,EAAMwB,cAAcC,UAAUC,KAAI,SAAAC,GAAC,OAAI,SAAC,EAAD,CAAyBrB,KAAMqB,EAAErB,KAAMF,GAAIuB,EAAEvB,IAA1BuB,EAAEvB,OAChFwB,EAAmB5B,EAAMwB,cAAcK,SAASH,KAAI,SAAAI,GAAC,OAAI,SAAC,EAAD,CAAoBvB,QAASuB,EAAEvB,SAAjBuB,EAAE1B,OAM7E,OAAKJ,EAAM+B,QAEP,iBAAK9B,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAhB,SACKqB,KAEL,iBAAKtB,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAhB,UACI,gBAAKD,UAAWC,EAAhB,SAAyB0B,OAE7B,SAAC,EAAD,CAAgBX,YAdN,SAACP,GACnBV,EAAMiB,YAAYP,aAGI,SAAC,KAAD,CAAUP,GAAI,Y,6BCW5C,GAAe6B,EAAAA,EAAAA,IAA6BC,EAAAA,GACxCC,EAAAA,EAAAA,KAdoB,SAACC,GACrB,MAAO,CACHX,cAAeW,EAAMX,cACrBO,OAAQI,EAAMC,KAAKL,WAGA,SAACM,GACxB,MAAO,CACHpB,YAAa,SAACqB,GACVD,GAASE,EAAAA,EAAAA,GAAcD,SAInC,EAjB2B,SAACtC,GACxB,OAAO,SAAC,EAAD,CAAWwB,cAAexB,EAAMwB,cAAeP,YAAajB,EAAMiB,YAAac,OAAQ/B,EAAM+B","sources":["webpack://type-app/./src/components/Pages/Dialogues/Dialogues.module.css?2cee","webpack://type-app/./src/components/Pages/Dialogues/DialogueItem/DialogueItem.module.css?c9fb","components/Pages/Dialogues/DialogueItem/DialogueItem.tsx","components/Pages/Dialogues/Message/Message.module.css","components/Pages/Dialogues/Message/Message.tsx","components/Pages/Dialogues/Message/AddMessageForm.tsx","components/Pages/Dialogues/Dialogues.tsx","components/Pages/Dialogues/DialoguesContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogues\":\"Dialogues_dialogues__3AfSk\",\"dialoguesItems\":\"Dialogues_dialoguesItems__H5tz6\",\"item\":\"Dialogues_item__-Riak\",\"messageBlock\":\"Dialogues_messageBlock__A5ieY\",\"messages\":\"Dialogues_messages__JfqxH\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"DialogueItem_item__7e4Au\",\"active\":\"DialogueItem_active__IBmaT\",\"inactive\":\"DialogueItem_inactive__4jKJW\"};","import React from 'react';\nimport s from \"./DialogueItem.module.css\";\nimport {NavLink} from \"react-router-dom\";\n\ntype DialogueItemType = {\n    name: string\n    id: number\n}\nconst DialogueItem = (props: DialogueItemType) => {\n    return (\n        <div className={s.item}>\n            <NavLink to={`/dialogues/${props.id}`} className={({isActive}) => isActive ? s.active : s.inactive}>{props.name}</NavLink>\n        </div>\n    );\n};\n\nexport default DialogueItem;","// extracted by mini-css-extract-plugin\nexport default {};","import React from 'react';\nimport s from \"./Message.module.css\";\n\ntype MessageType = {\n    message: string\n}\nconst Message = (props: MessageType) => {\n    return (\n        <div className={s.message}>{props.message}</div>\n    );\n};\n\nexport default Message;","import React from 'react';\nimport {Form, Formik} from \"formik\";\nimport s from '../../../../common/Button/Button.module.css'\nimport FormControl from \"../../../../common/FormControl/FormControl\";\nimport * as Yup from \"yup\";\n\ntype AddMessageFormType = {\n    sendMessage: (values: string) => void\n}\ntype InitialValuesType = {\n    newMessage: string\n}\n\nconst AddMessageForm = (props: AddMessageFormType) => {\n    const initialValues: InitialValuesType = {\n        newMessage: ''\n    }\n    let addNewMessage = (values: InitialValuesType) => {\n        props.sendMessage(values.newMessage);\n    }\n    const validationSchema = Yup.object({\n        newMessage: Yup.string().max(3000, `The message is too long`).required('required')\n    })\n\n    return (\n        <div>\n        <Formik\n            initialValues={initialValues}\n            validationSchema={validationSchema}\n            onSubmit={(values, {resetForm}) => {\n                addNewMessage(values);\n                resetForm({values: {newMessage: ''}})\n            }}>\n            <Form>\n                <FormControl control={'textarea'} name={'newMessage'} placeholder={\"add a message ...\"}/>\n                <button className={s.button} type={'submit'}>Send</button>\n            </Form>\n        </Formik>\n        </div>\n    )\n}\n\nexport default AddMessageForm;","import React from 'react';\nimport s from './Dialogues.module.css'\nimport DialogueItem from \"./DialogueItem/DialogueItem\";\nimport Message from \"./Message/Message\";\nimport {DialoguesPageType} from \"../../../redux/dialogues-reducer\";\nimport {Navigate} from \"react-router-dom\";\nimport AddMessageForm from \"./Message/AddMessageForm\";\n\ntype DialoguesPropsType = {\n    dialoguesPage: DialoguesPageType\n    sendMessage: (newMessage: string) => void\n    isAuth: boolean\n}\n\nconst Dialogues = (props: DialoguesPropsType) => {\n\n    let dialoguesElements = props.dialoguesPage.dialogues.map(d => <DialogueItem key={d.id} name={d.name} id={d.id}/>);\n    let messagesElements = props.dialoguesPage.messages.map(m => <Message key={m.id} message={m.message}/>);\n\n    const addNewMessage = (newMessage: string) => {\n        props.sendMessage(newMessage)\n    }\n\n    if (!props.isAuth) return <Navigate to={'/login'}/>;\n    return (\n        <div className={s.dialogues}>\n            <div className={s.dialoguesItems}>\n                {dialoguesElements}\n            </div>\n            <div className={s.messageBlock}>\n                <div className={s.messages}>\n                    <div className={s.item}>{messagesElements}</div>\n                </div>\n                <AddMessageForm sendMessage={addNewMessage}/>\n            </div>\n        </div>\n    );\n};\n\nexport default Dialogues;","import {DialoguesPageType, sendMessageAC} from \"../../../redux/dialogues-reducer\";\nimport Dialogues from \"./Dialogues\";\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"../../../redux/store\";\nimport {compose, Dispatch} from \"redux\";\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\nimport React from \"react\";\n\ntype MapStateToPropsType = {\n    dialoguesPage: DialoguesPageType\n    isAuth: boolean\n}\ntype MapDispatchToPropsType = {\n    sendMessage: (newMessage: string) => void\n}\ntype DialoguesContainerType = MapDispatchToPropsType & MapStateToPropsType\n\nconst DialoguesContainer = (props: DialoguesContainerType ) => {\n    return <Dialogues dialoguesPage={props.dialoguesPage} sendMessage={props.sendMessage} isAuth={props.isAuth}/>\n}\n\nconst mapStateToProps = (state: RootStateType): MapStateToPropsType => {\n    return {\n        dialoguesPage: state.dialoguesPage,\n        isAuth: state.auth.isAuth\n    }\n}\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\n    return {\n        sendMessage: (newDialogueText: string) => {\n            dispatch(sendMessageAC(newDialogueText))\n        }\n    }\n}\nexport default compose<React.ComponentType>(withAuthRedirect,\n    connect(mapStateToProps, mapDispatchToProps))(DialoguesContainer);\n"],"names":["props","className","s","to","id","isActive","name","message","validationSchema","Yup","newMessage","max","required","initialValues","onSubmit","values","resetForm","sendMessage","addNewMessage","FormControl","control","placeholder","type","dialoguesElements","dialoguesPage","dialogues","map","d","messagesElements","messages","m","isAuth","compose","withAuthRedirect","connect","state","auth","dispatch","newDialogueText","sendMessageAC"],"sourceRoot":""}